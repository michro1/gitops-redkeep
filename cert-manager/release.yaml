---
apiVersion: flux.weave.works/v1beta1
kind: HelmRelease
metadata:
  name: cert-manager
  namespace: cert-manager
spec:
  releaseName: cert-manager
  chart:
    repository: https://charts.jetstack.io
    name: cert-manager
    version: v0.8.0
  values:
    securityContext:
      enabled: true
    ingressShim:
      defaultIssuerName: letsencrypt-production
      defaultIssuerKind: ClusterIssuer
    extraArgs:
    - --dns01-self-check-nameservers="1.1.1.1:53"
    podDnsPolicy: "None"
    podDnsConfig:
      nameservers:
      - "192.168.1.1"
